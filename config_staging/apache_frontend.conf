<VirtualHost *:80>
    ServerName demo4sa.org
    ServerAlias www.demo4sa.org
    DocumentRoot /var/www/pmgbilltracker/pmg_frontend

    Alias /static/ /var/www/pmgbilltracker/pmg_frontend/static/
    Alias /uploads/ /var/www/pmgbilltracker/instance/uploads/

    <Directory /var/www/pmgbilltracker/pmg_frontend/static>
        Order deny,allow
        Allow from all

        # enable caching for static files
        ExpiresActive On
        ExpiresByType image/gif "access plus 1 months"
        ExpiresByType image/jpg "access plus 1 months"
        ExpiresByType image/jpeg "access plus 1 months"
        ExpiresByType image/png "access plus 1 months"
        ExpiresDefault "access plus 1 days"

        # gzip content: html, css and js
        AddOutputFilterByType DEFLATE text/html text/css application/x-javascript application/javascript
    </Directory>

    <Directory /var/www/pmgbilltracker/instance/uploads>
        Order deny,allow
        Allow from all
    </Directory>

    <Directory /var/www/pmgbilltracker/pmg_frontend>
        WSGIProcessGroup frontend
        WSGIApplicationGroup %{GLOBAL}
        WSGIScriptReloading On
        Order deny,allow
        Allow from all
    </Directory>

    WSGIPassAuthorization On
    WSGIDaemonProcess pmg_frontend user=www-data group=www-data threads=5
    WSGIScriptAlias / /var/www/pmgbilltracker/wsgi_frontend.py

</VirtualHost>